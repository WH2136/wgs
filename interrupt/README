[rooto@ stu106 irq]#make
[root @ stu106 irq]#insmod myirq.ko irq=3 interface=myirq3.
[root @ stu106 irq]#dmesg
My module worked ! myirq3.Request on IRQ 3 succeeded
[root @ stu106 irq]#rmmod myirq.ko
[root @ stu106 irq]#dmesg
Unloading my module.Freeing IRQ 3
    在/proc/interrupts 文件的输出结果，这个文件存放的是系统中与中断相关的统计信息：irp的序号 各自cpu 上发生的中断次数 可编程中断控制器 设备名称（request_irq的dev_name 字段）
    [root @ stu106 irq] #cat /proc/interrupts
 CPU0
    0:17252441 IO - APIC - edge timer
    1:4511 IO - APIC - edge i8042
    3:60 IO - APIC - edge myirq3.4:6655 IO - APIC - edge serial
    6:5 IO - APIC - edge floppy
    7:0 IO - APIC - edge parport0
    8:1 IO - APIC - edge rtc
    9:0 IO - APIC - level acpi
    12:344020 IO - APIC - edge i8042
    15:173234 IO - APIC - edge ide1
    51:0 IO - APIC - level uhci_hcd:usb1
    59:66574 IO - APIC - level ioc0
    67:38631 IO - APIC - level vmxnet ether
    75:3 IO - APIC - level vmci, Ensoniq AudioPCI
    NMI:0 LOC:18904116 ERR:0 MIS:0 ? ??i
    
共享中断测试[root @ stu106 irq]#rmmod myirq.ko
[root @ stu106 irq]#insmod myirq.ko irq=1 interface=myirq1 
1号是键盘中断
[root @ stu106 irq]#cat /proc/interrupts
 CPU0
    0:19991537 IO - APIC - edge timer
    1:6977 IO - APIC - edge i8042, myirq
    4:7440 IO - APIC - edge serial
    6:5 IO - APIC - edge floppy
    7:0 IO - APIC - edge parport0
    8:1 IO - APIC - edge rtc
    9:0 IO - APIC - level acpi
    12:380292 IO - APIC - edge i8042
    15:197984 IO - APIC - edge ide1
    51:0 IO - APIC - level uhci_hcd:usb1
    59:70671 IO - APIC - level ioc0
    67:40304 IO - APIC - level vmxnet ether
    75:3 IO - APIC - level vmci, Ensoniq AudioPCI
    NMI:0 LOC:21616880 ERR:0 MIS:0[root @ stu106 irq]

#dmesg

My module worked !
    myirq Request on IRQ 1 succeeded
    Interrupt number 1 ? ??intterval(jiffies) 0 ? ??jiffies:19415118
    Interrupt number 1 ? ??intterval(jiffies) 2007 ? ??jiffies:19417126
    Interrupt number 1 ? ??intterval(jiffies) 0 ? ??jiffies:19417126
    Interrupt number 1 ? ??intterval(jiffies) 0 ? ??jiffies:19417126
    Interrupt number 1 ? ??intterval(jiffies) 1 ? ??jiffies:19417127
    Interrupt number 1 ? ??intterval(jiffies) 95 ? ??jiffies:19417222
    Interrupt number 1 ? ??intterval(jiffies) 0 ? ??jiffies:19417222
    Interrupt number 1 ? ??intterval(jiffies) 1 ? ??jiffies:19417223
    Interrupt number 1 ? ??intterval(jiffies) 0 ? ??jiffies:19417223
    Interrupt number 1 ? ??intterval(jiffies) 615 ? ??jiffies:19417838
